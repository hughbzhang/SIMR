View(clin)
clin[avails&is.na(death),]
clin[clin$avails&is.na(clin$death),]
clin
install.packages(R.matlab)
install.packages('R.matlab')
library(R.matlab)
ls
writeMat('clinical.mat',clin)
?writeMat
writeMat('clinical.mat',clin = clin)
rm(ls())
rm(list=ls(all=TRUE))
demo <- read.table("~/Documents/workspace/SIMR/Regression/DATA/demo.txt", quote="\"")
View(demo)
?unique
unique(demo)
View(unique(demo))
?rle
rle(demo$V1)
rle(demo$V1).values
rle(demo$V1)$values
View(rle(demo)$values)
rle(demo)$values
rle(demo[,])$values
rle(demo[,1:13])$values
rle(demo[,1:13])
?lapply
reduce(demo$V1)
Reduce(demo$V1)
?Reduce
?fold
?Fold
demo = unique(demo)
?write.table
write.table(demo,'demo.txt')
demo <- read.table("~/Documents/workspace/SIMR/Regression/DATA/demo.txt", quote="\"")
View(demo)
demo = unique(demo)
View(demo)
write.table(demo,'demo.txt')
demo <- read.table("~/Documents/workspace/SIMR/Regression/DATA/demo.txt", quote="\"")
View(demo)
setwd(~/Documents)
setwd('~/Documents')
setwd('~/Documents/workspace//SIMR/Regression')
?matwrite
?writemat
?writeMat
writeMat(demo,'demo.mat')
writeMat('demo.mat',demo = dmeo)
writeMat('demo.mat',demo = demo)
writeMat('DATA/demo.mat',demo = as.matrix(demo))
normDemo <- read.table("~/Documents/workspace/SIMR/Regression/normDemo.txt", quote="\"")
View(normDemo)
newStanford <- read.table("~/Documents/workspace/SIMR/Regression/DATA/newStanford.txt", quote="\"")
View(newStanford)
unique(Stanford)
unique(newStanford)
lol = unique(newStanford)
demo$row.names
demo
normDemo$V4 = norm$V4
norm$V4
normDemo$V4 = demo$V4
View(normDemo)
write.table('normDemo.txt',normDemo)
?write.table
write.table(normDemo,'normDemo.txt')
rm(lol)
rm(demo)
NORMSTANFORD <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
View(NORMSTANFORD)
StanfordNames <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
View(StanfordNames)
normDemo <- read.table("~/Documents/workspace/SIMR/Regression/DATA/normDemo.txt", quote="\"")
View(normDemo)
plot(normDemo$V3,normDemo$V4)
normDemo <- read.table("~/Documents/workspace/SIMR/Regression/DATA/normDemo.txt", quote="\"")
View(normDemo)
unique(StanfordNames)
A = unique(StanfordNames)
rm(A)
library(kernlab)
all = normDemo
cur = sample(30)
test = all[cur[1:3]]
test = all[cur[1:3],]
View(test)
median(normDemo$V3)
sum(normDemo$V3<455)
sum(normDemo$V3<456)
sum(normDemo$V3<460)
sum(normDemo$V3<470)
14/30
455
455/360
455/30
normDemo
demoSurv = normDemo$V3<455
View(demoSurv)
sum(demoSurv)
demoSurv = normDemo$V3>=455
sum(demoSurv)
write.table(demoSurv,'DATA/demosurv.txt')
View(surv)
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
View(surv)
source('~/Documents/workspace/SIMR/Regression/patient.R')
print(i)
cur = sample(30)
test = all[cur[1:3],]
train = all[cur[4:30],]
testx = as.matrix(test[,-3])
testy = as.integer(surv$x)
trainx = as.matrix(train[,-3])
trainy = as.integer(surv$x)
model = ksvm(trainx,trainy,type = "C-svc",kernel = 'rbf',kpar = list(sigma=10^SIGMA),C=10^OURC)
testx
testy
testy = as.integer(surv[cur[1:3]])
surv
surv(1)
surv[1]
surv[1,]
surv[1:3,]
testx = as.matrix(test[,-3])
testy = as.integer(surv[cur[1:3],])
trainx = as.matrix(train[,-3])
trainy = as.integer(surv[cur[1:3],])
testx
testy
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
testx
testy
model
predict(model,testx)
testy
now = (sum(predict(model,testx)!=testy))
now
CV[0]
CV[1]
CV[2]
CV[7]
CV
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
trainx
trainy
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
10/30
30*29*28/6
source('~/Documents/workspace/SIMR/Regression/patient.R')
model
predict(model,trainx)
trainy
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
CV
CV
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
cor(all$V1,all$V3)
cor(all$V2,all$V3)
cor(all$V4,all$V3)
cor(all$V12,all$V3)
cor(all$V11,all$V3)
cor(all$V10,all$V3)
cor(all$V9,all$V3)
cor(all$V6,all$V3)
?ksvm
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
source('~/Documents/workspace/SIMR/Regression/patient.R')
125/300
mean(CV)
140/300
?which
?match
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
names
unique(names)
unique = unique(names)
all <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
names <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
unique = unique(names)
unique
unique==TCGA-08-0529
unique=='TCGA-08-0529'
which(unique=='TCGA-08-0529')
all
match(names,unique)
match(unique,names)
which(names,unique)
which(names==unique)
names
unique
match(names,uniquee)
match(names,unique)
which(names,unique)
which(names %in% unique)
names
which(names[1]==unique)
which(unique==names[1])
names[1]
which(unique==names[1,])
for( i = 1:184)
for(i = 1:184)
for(i in 1:184)
{}
for(i in 1:184){
which(unique==names[i,])
}
names
names$V1[1]
names$V1[1]==unique
?unique
rle(names)
rle(names$V1)
rle(names$x)
View(names)
View(names)
rle(names$V1)
names[1]
names[,1]
names[1,]
as.string(names[1,])
as.literal(names[1,])
names
names[,1]
names[1,]
names[1]
names = as.vector(names)
names
names[1]
as.vector(names)
as.character(names[1,])
as.character(names)
as.character(names[1,])
as.character(names[,1])
names = as.character(names[,1])
names
which(names,unique)
which(names==unique)
which(unique==names)
names
unique
unique = as.character(unique[,1])
unique
which(unique==names)
which(names==names)
which(names==unique)
match(names,unique)
match(unique,names)
match(names,unique)
all$ID = match(names,unique)
write.table(all,'NORMSTANFORD.txt')
all <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
names <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
View(all)
all$ID %in% 5
test = all[all$id %in% cur[1:3],]
cur = sample(30)
test = all[all$id %in% cur[1:3],]
View(test)
cur = sample(30)
test = all[all$id %in% cur[1:3],]
View(test)
all <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
names <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
cur = sample(30)
test = all[all$id %in% cur[1:3],]
test
all$id
View(all)
all <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
names <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
cur = sample(30)
test = all[all$id %in% cur[1:3],]
test
View(test)
surv[all$id]
all$id
surv[all$id]
View(surv)
surv[all$id,1]
cur = sample(30)
test = all[all$id %in% cur[1:3],]
train = all[all$id %in% cur[4:30],]
testx = as.matrix(test)
testy = as.integer(surv[cur[1:3],])
trainx = as.matrix(train)
trainy = as.integer(surv[all$id,1])
testy
testx
trainx = as.matrix(train)
trainy = as.integer(surv[all$id,1])
trainx
trainy
?predict
model
model = ksvm(trainx,trainy,type = "C-svc",kernel = 'rbf',kpar = list(sigma=10^SIGMA),C=10^OURC)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
model
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
model
predict(model,testx)
testy
predict(model,testx,'response')
predict(model,testx,type = 'response')
predict(model,testx,type = 'probabilities')
predict(model,testx,type = 'decision')
testx
model = ksvm(trainx,trainy,type = "C-svc",kernel = 'rbf',kpar = list(sigma=.1),C=10)
model
model = ksvm(trainx,trainy,type = "C-svc",kernel = 'rbf',kpar = list(sigma=.1),C=1)
model
predict(model,trainx)
trainy
predict(model,testx)
predict(model,testx,'decision')
predict(model,testx,type ='decision')
as.numeric(predict(model,testx,type ='decision'))
length(testx)
testx
?length
length(out)
out = as.numeric(predict(model,testx,'decision'))
length(out)
test[i,]id
test[i,'id']
unique(test#id)
unique(test$id)
which(test[i,'id'],cases)
cases = unique(test$id)
which(test[i,'id'],cases)
which(test[i,'id']==cases)
?vector
vector(data = 0,3)
matrix(data = 0,3)
rep(0,3)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
which(10==cases)
which(20==cases)
cases
which(17==cases)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
train
trainy
out = as.numeric(predict(model,testx,'decision'))
out
testx
model
model = ksvm(trainx,trainy,type = "C-svc",kernel = 'rbf',kpar = list(sigma=.2),C=1)
model
predict(model,testx)
predict(model,testx,'decision')
out = as.numeric(predict(model,testx,'decision'))
out
cases = unique(test$id)
cases
length(out)
which(test[i,'id']==cases)
arr[3]
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
119/300
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
nrows(test)
nrows(testx)
nrow(testx)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
111/176
69/176
all <- read.table("~/Documents/workspace/SIMR/Regression/DATA/NORMSTANFORD.txt", quote="\"")
surv <- read.table("~/Documents/workspace/SIMR/Regression/DATA/surv.txt", quote="\"")
names <- read.table("~/Documents/workspace/SIMR/Regression/DATA/StanfordNames.txt", quote="\"")
View(all)
View(surv)
View(names)
surv
match(patient$id
trainy = as.integer(surv[train$id,1]))
LOL = as.integer(surv[all$id,1])
LOL
length(LOL)
sum(LOL)
99/184
out
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
cases
which(12==cases
)
which(18==cases)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
21/30
moel
model
model.error
model$error
arr
testy
out
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
warnings()
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
warnings
warnings()
trainy
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
warnings()
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
warnings()
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
81/270
arr>0
arr
as.integer(surv[cur[1:3],])
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
145/176
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
rand()
sample(1)
sample(1)
sample(0:1)
sample(0:1,1)
sample(0:1,1)
sample(0:1,1)
sample(0:1,1)
sample(0:1,1)
arr[arr==0] = sample(c(-1,1),1)
sample(c(-1,1),1)
sample(c(-1,1),1)
sample(c(-1,1),1)
sample(c(-1,1),1)
sample(c(-1,1),1)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
143/270
126/270
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
out
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
surv[cur[4:30],]
cur[4:30]
cases
cases
train$id
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
cur
train$id
unique(train$id)
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
warnings()
trainx = as.matrix(train)
trainx
trainy = as.integer(surv[train$id,1])
trainy
surv
source('~/Documents/workspace/SIMR/Regression/imagePatient.R')
58/178
